<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionnaire Complet - Decathlon SPA</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    
    <style>
        .form-step { display: none; }
        .form-step.active { display: block; }
    </style>
</head>
<body>
    <header>
        <nav>
            <a href="index.html"><img src="image/logonird.png" alt="logo nird" class="logo-nird"></a>
            <ul class="nav-bar">
                <li><a href="rse.html">rse</a></li>
                <li><a href="hergonomie.html">hergonomie simple</a></li>
                <li><a href="decathlon.html">decathlon</a></li>
            </ul>
        </nav>
    </header>
    
    <div id="questionnaire-container">
        <header>
            <h1>Conseil Sport & Sant√© Decathlon</h1>
            <p id="step-indicator" class="text-sm opacity-90 mt-1">√âtape 1 sur 9 : Votre identifiant</p>
        </header>
        <main>
            <form id="questionnaire-form">

                <input type="hidden" id="prev-data-placeholder" name="prev_data">

                <div id="step-1" class="form-step active">
                    <h2 style="color: var(--color-accent);">√âtape 1 : Votre identifiant</h2>
                    <p class="mb-4">Veuillez entrer votre pseudonyme (3 √† 50 caract√®res).</p>
                    <input type="text" name="pseudo" placeholder="Pseudo" required minlength="3" maxlength="50">
                    <footer>
                        <div></div>
                        <button type="button" onclick="validateAndNavigate(1, 2, 'Votre Sexe')" class="btn-primary">
                            Suivant &rarr;
                        </button>
                    </footer>
                </div>

                <div id="step-2" class="form-step">
                    <h2 style="color: var(--color-accent);">√âtape 2 : Votre Sexe</h2>
                    <p class="mb-4">Quel est votre sexe ?</p>
                    <div class="space-y-3">
                        <label class="choice-card block"><input type="radio" name="sexe" value="Femme" required><div class="p-4 border rounded-lg">Femme</div></label>
                        <label class="choice-card block"><input type="radio" name="sexe" value="Homme" required><div class="p-4 border rounded-lg">Homme</div></label>
                        <label class="choice-card block"><input type="radio" name="sexe" value="Non-sp√©cifi√©" required><div class="p-4 border rounded-lg">Non sp√©cifi√©</div></label>
                    </div>
                    <footer>
                        <button type="button" onclick="goToStep(2, 1, 'Votre identifiant')" class="btn-secondary">&larr; Pr√©c√©dent</button>
                        <button type="button" onclick="validateAndNavigate(2, 3, 'Tranche d\'√¢ge')" class="btn-primary">Suivant &rarr;</button>
                    </footer>
                </div>

                <div id="step-3" class="form-step">
                    <h2 style="color: var(--color-accent);">√âtape 3 : Tranche d'√¢ge</h2>
                    <p class="mb-4">Quel est votre tranche d'√¢ge ?</p>
                    <div class="space-y-3">
                        <label class="choice-card block"><input type="radio" name="age_range" value="18-25" required><div class="p-4 border rounded-lg">18 - 25 ans</div></label>
                        <label class="choice-card block"><input type="radio" name="age_range" value="26-35" required><div class="p-4 border rounded-lg">26 - 35 ans</div></label>
                        <label class="choice-card block"><input type="radio" name="age_range" value="36-50" required><div class="p-4 border rounded-lg">36 - 50 ans</div></label>
                        <label class="choice-card block"><input type="radio" name="age_range" value="50+" required><div class="p-4 border rounded-lg">50 ans et plus</div></label>
                    </div>
                    <footer>
                        <button type="button" onclick="goToStep(3, 2, 'Votre Sexe')" class="btn-secondary">&larr; Pr√©c√©dent</button>
                        <button type="button" onclick="validateAndNavigate(3, 4, 'Mensurations')" class="btn-primary">Suivant &rarr;</button>
                    </footer>
                </div>

                <div id="step-4" class="form-step">
                    <h2 style="color: var(--color-accent);">√âtape 4 : Mensurations</h2>
                    <p class="mb-4">Pour des conseils pr√©cis sur l'√©quipement, indiquez vos tailles habituelles :</p>
                    <div class="space-y-4">
                        <div>
                            <label for="input-taille-haut">Taille V√™tements Haut</label>
                            <select id="input-taille-haut" name="taille_haut" required>
                                <option value="">-- S√©lectionnez une taille --</option>
                                <option value="XS">XS</option>
                                <option value="S">S</option>
                                <option value="M">M</option>
                                <option value="L">L</option>
                                <option value="XL">XL</option>
                                <option value="XXL">XXL et plus</option>
                            </select>
                        </div>
                        <div>
                            <label for="input-taille-bas">Taille V√™tements Bas (ex: 38, 40, 42, 44)</label>
                            <select id="input-taille-bas" name="taille_bas" required>
                                <option value="">-- S√©lectionnez une taille --</option>
                                <option value="34">34 (XXS)</option>
                                <option value="36">36 (XS)</option>
                                <option value="38">38 (S)</option>
                                <option value="40">40 (M)</option>
                                <option value="42">42 (L)</option>
                                <option value="44">44 (XL)</option>
                                <option value="46">46 (XXL)</option>
                                <option value="48">48 et plus</option>
                            </select>
                        </div>
                        <div>
                            <label for="input-pointure">Pointure Chaussures</label>
                            <input type="number" id="input-pointure" name="pointure_chaussure" placeholder="Pointure (ex: 42)" min="20" max="50" required>
                        </div>
                    </div>
                    <footer>
                        <button type="button" onclick="goToStep(4, 3, 'Tranche d\'√¢ge')" class="btn-secondary">&larr; Pr√©c√©dent</button>
                        <button type="button" onclick="validateAndNavigate(4, 5, 'Fr√©quence Sportive')" class="btn-primary">Suivant &rarr;</button>
                    </footer>
                </div>

                <div id="step-5" class="form-step">
                    <h2 style="color: var(--color-accent);">√âtape 5 : Fr√©quence Sportive</h2>
                    <p class="mb-4">√Ä quelle fr√©quence pratiquez-vous une activit√© sportive par semaine ?</p>
                    <div class="space-y-3">
                        <label class="choice-card block"><input type="radio" name="frequence_sport" value="Moins de 1 fois" required><div class="p-4 border rounded-lg">Moins de 1 fois / semaine</div></label>
                        <label class="choice-card block"><input type="radio" name="frequence_sport" value="1 √† 4 fois" required><div class="p-4 border rounded-lg">1 √† 4 fois / semaine</div></label>
                        <label class="choice-card block"><input type="radio" name="frequence_sport" value="Plus de 4 fois" required><div class="p-4 border rounded-lg">Plus de 4 fois / semaine</div></label>
                    </div>
                    <footer>
                        <button type="button" onclick="goToStep(5, 4, 'Mensurations')" class="btn-secondary">&larr; Pr√©c√©dent</button>
                        <button type="button" onclick="validateAndNavigate(5, 6, 'Probl√®mes de Sant√©')" class="btn-primary">Suivant &rarr;</button>
                    </footer>
                </div>
                
                <div id="step-6" class="form-step">
                    <input type="hidden" id="maladies-choisies" name="maladies_choisies">

                    <h2 style="color: var(--color-accent);">√âtape 6 : Probl√®mes de Sant√©</h2>
                    <p class="mb-4">Avez-vous des pr√©occupations de sant√© sp√©cifiques ? Cochez toutes les options pertinentes.</p>
                    <div class="space-y-3">
                        <label class="choice-card block"><input type="checkbox" name="sante_choix" value="Probl√®mes de sommeil" id="check-sommeil"><div class="p-4 border rounded-lg">Probl√®mes de sommeil üò¥</div></label>
                        <label class="choice-card block"><input type="checkbox" name="sante_choix" value="Probl√®mes d'articulation" id="check-articulation"><div class="p-4 border rounded-lg">Probl√®mes d'articulation ü¶µ</div></label>
                        <label class="choice-card block"><input type="checkbox" name="sante_choix" value="Probl√®mes de stress/anxi√©t√©" id="check-stress"><div class="p-4 border rounded-lg">Probl√®mes de stress/anxi√©t√© üßò</div></label>
                        <label class="choice-card block"><input type="checkbox" name="sante_choix" value="Aucun/Autre" id="check-autre"><div class="p-4 border rounded-lg">Aucun des probl√®mes mentionn√©s / Autre</div></label>
                    </div>
                    <footer>
                        <button type="button" onclick="goToStep(6, 5, 'Fr√©quence Sportive')" class="btn-secondary">&larr; Pr√©c√©dent</button>
                        <button type="button" onclick="handleHealthSubmission()" class="btn-primary">Suivant &rarr;</button>
                    </footer>
                </div>

                <div id="step-7" class="form-step">
                    <h2 style="color: var(--color-accent);">√âtape 7 : Votre situation professionnelle</h2>
                    <p class="mb-4">Quel est votre environnement de travail principal ?</p>
                    <div class="space-y-3">
                        <label class="choice-card block"><input type="radio" name="environnement_travail" value="Bureau" required><div class="p-4 border rounded-lg">Travail de bureau (S√©dentaire) üßë‚Äçüíª</div></label>
                        <label class="choice-card block"><input type="radio" name="environnement_travail" value="Physique" required><div class="p-4 border rounded-lg">Travail physique / Manuel (Actif) üèóÔ∏è</div></label>
                        <label class="choice-card block"><input type="radio" name="environnement_travail" value="√âtudiant" required><div class="p-4 border rounded-lg">√âtudiant üéí</div></label>
                        <label class="choice-card block"><input type="radio" name="environnement_travail" value="Retraite" id="choix-retraite" required><div class="p-4 border rounded-lg">Retraite üëµüë¥</div></label>
                        <label class="choice-card block"><input type="radio" name="environnement_travail" value="Ch√¥mage/Inactif" id="choix-chomage" required><div class="p-4 border rounded-lg">Ch√¥mage / Inactif üõãÔ∏è</div></label>
                    </div>
                    <footer>
                        <button type="button" onclick="goToStep(7, 6, 'Probl√®mes de Sant√©')" class="btn-secondary">&larr; Pr√©c√©dent</button>
                        <button type="button" onclick="handleConditionalNavigation()" class="btn-primary">Suivant &rarr;</button>
                    </footer>
                </div>
                
                <div id="step-8" class="form-step">
                    <h2 style="color: var(--color-accent);">√âtape 8 : Posture de Travail</h2>
                    <p class="mb-4">Pr√©cisez la posture que vous adoptez majoritairement durant votre journ√©e de travail :</p>
                    <div class="space-y-3">
                        <label class="choice-card block"><input type="radio" name="poste_posture" value="Assis" required><div class="p-4 border rounded-lg">Majoritairement Assis ü™ë</div></label>
                        <label class="choice-card block"><input type="radio" name="poste_posture" value="Debout" required><div class="p-4 border rounded-lg">Majoritairement Debout ou en mouvement üö∂</div></label>
                        <label class="choice-card block"><input type="radio" name="poste_posture" value="Altern√©" required><div class="p-4 border rounded-lg">Alternance Assis / Debout üîÑ</div></label>
                    </div>
                    <footer>
                        <button type="button" onclick="goToStep(8, 7, 'Environnement de travail')" class="btn-secondary">&larr; Pr√©c√©dent</button>
                        <button type="button" onclick="validateAndNavigate(8, 9, 'Charges Lourdes')" class="btn-primary">Suivant &rarr;</button>
                    </footer>
                </div>

                <div id="step-9" class="form-step">
                    <h2 style="color: var(--color-accent);">√âtape 9 : Manipulation de Charges</h2>
                    <p class="mb-4">Devez-vous **porter ou manipuler r√©guli√®rement des charges lourdes** (plus de 10 kg) ?</p>
                    <div class="space-y-3">
                        <label class="choice-card block"><input type="radio" name="poste_charges_lourdes" value="Oui" required><div class="p-4 border rounded-lg">Oui, r√©guli√®rement (plusieurs fois par jour) üí™</div></label>
                        <label class="choice-card block"><input type="radio" name="poste_charges_lourdes" value="Parfois" required><div class="p-4 border rounded-lg">Parfois (une fois par semaine ou moins)</div></label>
                        <label class="choice-card block"><input type="radio" name="poste_charges_lourdes" value="Non" required><div class="p-4 border rounded-lg">Non, jamais ou tr√®s rarement</div></label>
                    </div>
                    <footer>
                        <button type="button" onclick="goToStep(9, 8, 'Posture de Travail')" class="btn-secondary">&larr; Pr√©c√©dent</button>
                        <button type="button" onclick="validateAndNavigate(9, 10, 'Votre Profil de Bien-√™tre')" class="btn-primary">
                            Voir mon Profil &rarr;
                        </button>
                    </footer>
                </div>

                <div id="step-10" class="form-step">
                    <h2 style="color: var(--color-accent);">Votre Profil de Bien-√™tre</h2>
                    <p>Vos r√©ponses ont √©t√© analys√©es. D√©couvrez le type de sportif ou d'utilisateur qui vous correspond :</p>

                    <div id="recap-data-container" class="mt-4 p-4 border rounded-lg">
                        Calcul en cours...
                    </div>

                    <footer>
                        <button type="button" onclick="goToStep(10, 9, 'Charges Lourdes')" class="btn-secondary">
                            &larr; Modifier l'√©tape
                        </button>
                        <button type="button" onclick="goToNextPage('recommandations-produits.html')" class="btn-primary">
                            Voir les Articles Recommand√©s &rarr;
                        </button>
                    </footer>
                </div>

            </form>
        </main>
    </div>
    
    <script src="app.js"></script>

</body>
</html>